<launch>
	<!--arg name="gui" default="true"/>
	<arg name="verbose" default="true"/>
	<arg name="world_file"  default="$(find navisim)/worlds/cam.world"/>
	<include file="$(find gazebo_ros)/launch/empty_world.launch">
		<arg name="use_sim_time" value="true"/>
		<arg name="debug" value="false"/>
		<arg name="gui" value="$(arg gui)" />
		<arg name="world_name" value="$(arg world_file)"/>
		<arg name="verbose" value="$(arg gui)"/>
  	</include-->
	<include file="$(find gazebo_ros)/launch/empty_world.launch">
    </include>
	
	<!--node name="rviz1" pkg="rviz" type="rviz" args="-d $(find navisim)/launch/rviz/orbslam2_ros.rviz"/-->

	<arg name="urdf_file" default="$(find xacro)/xacro.py '$(find navisim)/models/turtlebot2/turtlebot.urdf.xacro'"/>
	<arg name="ns"        default="turtlebot1"/>
	
	<param name="robot_description" command="$(arg urdf_file)"/>
	<node name="spawn_turtlebot_model" pkg="gazebo_ros" type="spawn_model"
	        args="$(optenv ROBOT_INITIAL_POSE) -unpause -urdf -param robot_description -model mobile_base x -9.8 y -1.5 "/>
	<node pkg="nodelet" type="nodelet" name="mobile_base_nodelet_manager" args="manager" />
	<node pkg="nodelet" type="nodelet" name="cmd_vel_mux" 
	        args="load yocs_cmd_vel_mux/CmdVelMuxNodelet mobile_base_nodelet_manager">
		<param name="yaml_cfg_file" value="$(find turtlebot_bringup)/param/mux.yaml"/>
		<remap from="cmd_vel_mux/output" to="mobile_base/commands/velocity"/>
	</node>
	<node pkg="robot_state_publisher" type="robot_state_publisher" name="robot_state_publisher">
		<param name="publish_frequency" type="double" value="30.0" />
	</node>

</launch>